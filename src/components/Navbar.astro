---
// No props needed
---

<h1><a href="/">irene park</a></h1>

<div class="navbar">
	<div class="navbar_first">
		<a href="/ode" class="ode-link">ode to the book</a>
		<a href="/winogrand" class="winogrand-link">lessons with winogrand</a>
        <a href="/p&p" class="p&p-link">p&p</a>
		<a href="/interview" class="interview-link">an interview</a>
		<a href="/bed" class="bed-link">bed</a>
		<a href="/chess" class="lettered-entities-link">lettered entities</a>
	</div>
	<div class="navbar_second">
		<a href="/typefoundry" class="typefoundry-link">type foundry</a>
		<a href="/holepunch">holepunch</a>
		<a href="/alternate-internet-archive" class="aia-link">alternate internet archive</a>
		<a href="/researchrepo">research repository</a>
		<a href="/aging">aging</a>
	</div>
	<div class="navbar_third">
		<a href="/about">about</a>
		<a href="/contact">contact</a>
	</div>
</div>

<img id="ode-cursor-image" src="/images/ode_cover.webp" alt="" class="cursor-follow-image" />
<img id="winogrand-cursor-image" src="/images/wino_cursor.webp" alt="" class="cursor-follow-image" />
<img id="interview-cursor-image" src="/images/interview_cursor.webp" alt="" class="cursor-follow-image" />
<img id="bed-cursor-image" src="/images/bed_cursor.webp" alt="" class="cursor-follow-image" />
<img id="pnp-cursor-image" src="/images/pnp_cursor.webp" alt="" class="cursor-follow-image" />
<img id="lettered-entities-cursor-image" src="/images/chess_cursor.webp" alt="" class="cursor-follow-image" />
<img id="typefoundry-cursor-image" src="/images/foundry_cursor.gif" alt="" class="cursor-follow-image" />
<img id="aia-cursor-image" src="/images/foid.webp" alt="" class="cursor-follow-image" />







<script>
	// Preload all cursor-follow images so they're ready before first hover
	document.querySelectorAll<HTMLImageElement>('.cursor-follow-image').forEach(img => {
		const preload = new Image();
		preload.src = img.src;
	});

	// Map of link classes to their cursor image IDs
	const cursorLinks = {
		'ode-link': 'ode-cursor-image',
		'winogrand-link': 'winogrand-cursor-image',
		'interview-link': 'interview-cursor-image',
		'bed-link': 'bed-cursor-image',
		'p&p-link': 'pnp-cursor-image',
		'lettered-entities-link': 'lettered-entities-cursor-image',
		'typefoundry-link': 'typefoundry-cursor-image',
		'aia-link': 'aia-cursor-image'
	};

	// Smooth cursor following with lerp
	const positions: Map<string, { targetX: number; targetY: number; currentX: number; currentY: number; active: boolean }> = new Map();

	// Set up cursor following for all links
	Object.entries(cursorLinks).forEach(([linkClass, imageId]) => {
		const escapedClass = linkClass.replace(/&/g, '\\&');
		const link = document.querySelector(`.${escapedClass}`);
		const image = document.getElementById(imageId);
		
		if (link && image) {
			positions.set(imageId, { targetX: 0, targetY: 0, currentX: 0, currentY: 0, active: false });

			link.addEventListener('mouseenter', (e) => {
				const mouseEvent = e as MouseEvent;
				const pos = positions.get(imageId)!;
				pos.currentX = mouseEvent.clientX;
				pos.currentY = mouseEvent.clientY;
				pos.targetX = mouseEvent.clientX;
				pos.targetY = mouseEvent.clientY;
				pos.active = true;
				image.style.left = pos.currentX + 'px';
				image.style.top = pos.currentY + 'px';
				image.classList.add('active');
			});
			
			link.addEventListener('mouseleave', () => {
				positions.get(imageId)!.active = false;
				image.classList.remove('active');
			});
			
			link.addEventListener('mousemove', (e) => {
				const mouseEvent = e as MouseEvent;
				const pos = positions.get(imageId)!;
				pos.targetX = mouseEvent.clientX;
				pos.targetY = mouseEvent.clientY;
			});
		}
	});

	// Animation loop â€” smoothly interpolate towards target
	function animate() {
		positions.forEach((pos, imageId) => {
			if (pos.active) {
				const lerp = 0.35;
				pos.currentX += (pos.targetX - pos.currentX) * lerp;
				pos.currentY += (pos.targetY - pos.currentY) * lerp;
				const image = document.getElementById(imageId);
				if (image) {
					image.style.left = pos.currentX + 'px';
					image.style.top = pos.currentY + 'px';
				}
			}
		});
		requestAnimationFrame(animate);
	}
	requestAnimationFrame(animate);
</script>
